package controlador;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import modelo.Informacion;

@WebServlet("/controlAcceso")
public class controlAcceso extends HttpServlet {
	private static final long serialVersionUID = 1L;
	private String dato1;
	private String dato2;
	private double dato3;
	
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		dato1 = request.getParameter("nombre").trim();
		dato2 = request.getParameter("apellido").trim();
		if (request.getParameter("promedio") != 0) {
			
		}
		dato3 = Double.parseDouble(request.getParameter("promedio"));
		if (!dato1.isEmpty() && !dato2.isEmpty()) {
			Informacion p1 = new Informacion(dato1, dato2, dato3);
			/*
			 * Al usar el constructor anterior, ya se guardan los datos en el objeto tipo
			 * Informacion, de manera que al utilizar, request.setAttribute("alumno", p1);
			 * pasamos a crear un atributo que se llama alumno y que tiene la informaciï¿½n
			 * del objeto p1 
			 */
			request.setAttribute("alumno", p1);
			request.getRequestDispatcher("Vista1Ej1.jsp").forward(request, response);
		} else {
			String mensaje = "No has ingresado todos los datos";
			request.setAttribute("mensajePrueba", mensaje);
			request.getRequestDispatcher("Ejercicio1.jsp").forward(request, response);
		}
	}
}
